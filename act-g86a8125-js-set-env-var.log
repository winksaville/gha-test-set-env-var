time="2020-11-20T12:44:00-08:00" level=debug msg="Loading environment from /home/wink/prgs/github-actions/tests/gha-test-set-env-var/.env"
time="2020-11-20T12:44:00-08:00" level=debug msg="Loading secrets from "
time="2020-11-20T12:44:00-08:00" level=debug msg="Loading workflows from '/home/wink/prgs/github-actions/tests/gha-test-set-env-var/.github/workflows'"
time="2020-11-20T12:44:00-08:00" level=debug msg="Reading workflow '/home/wink/prgs/github-actions/tests/gha-test-set-env-var/.github/workflows/set-env-var.yml'"
time="2020-11-20T12:44:00-08:00" level=debug msg="Planning event: push"
time="2020-11-20T12:44:00-08:00" level=debug msg="Loading slug from git directory '/home/wink/prgs/github-actions/tests/gha-test-set-env-var/.git'"
time="2020-11-20T12:44:00-08:00" level=debug msg="Found revision: 0be16c1fd1abc9d8547a6595a0ab29be214087ff\n"
time="2020-11-20T12:44:00-08:00" level=debug msg="Loading revision from git directory '/home/wink/prgs/github-actions/tests/gha-test-set-env-var/.git'"
time="2020-11-20T12:44:00-08:00" level=debug msg="Found revision: 0be16c1fd1abc9d8547a6595a0ab29be214087ff\n"
time="2020-11-20T12:44:00-08:00" level=debug msg="HEAD points to '0be16c1fd1abc9d8547a6595a0ab29be214087ff'"
time="2020-11-20T12:44:00-08:00" level=debug msg="HEAD matches refs/heads/main"
time="2020-11-20T12:44:00-08:00" level=debug msg="using github ref: refs/heads/main"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: RunContext vmEnv rc.GetEnv=map[ACT:true]"
time="2020-11-20T12:44:00-08:00" level=debug msg="WIHK: RunContext.func:+ vmEnv call ################# vm.Set(\"env\", rc.GetEnv()=map[ACT:true])"
time="2020-11-20T12:44:00-08:00" level=debug msg="WIHK: RunContext.func:- vmEnv"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: NewPlanExecutor jobName='test-set-env-var/test' ctx=&context.valueCtx{Context:(*context.cancelCtx)(0xc0003d6180), key:\"dryrun\", val:false}"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: NewPlanExecutor ctx v=&context.valueCtx{Context:(*context.cancelCtx)(0xc0003d6180), key:\"dryrun\", val:false}"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: NewPlanExecutor ctx +v=&context.valueCtx{Context:(*context.cancelCtx)(0xc0003d6180), key:\"dryrun\", val:false}"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: NewPlanExecutor ctx #v=&context.valueCtx{Context:(*context.cancelCtx)(0xc0003d6180), key:\"dryrun\", val:false}"
[test-set-env-var/test] 🚀  Start image=node:12.6-buster-slim
time="2020-11-20T12:44:00-08:00" level=debug msg="Loading slug from git directory '/home/wink/prgs/github-actions/tests/gha-test-set-env-var/.git'"
time="2020-11-20T12:44:00-08:00" level=debug msg="Found revision: 0be16c1fd1abc9d8547a6595a0ab29be214087ff\n"
time="2020-11-20T12:44:00-08:00" level=debug msg="Loading revision from git directory '/home/wink/prgs/github-actions/tests/gha-test-set-env-var/.git'"
time="2020-11-20T12:44:00-08:00" level=debug msg="Found revision: 0be16c1fd1abc9d8547a6595a0ab29be214087ff\n"
time="2020-11-20T12:44:00-08:00" level=debug msg="HEAD points to '0be16c1fd1abc9d8547a6595a0ab29be214087ff'"
time="2020-11-20T12:44:00-08:00" level=debug msg="HEAD matches refs/heads/main"
time="2020-11-20T12:44:00-08:00" level=debug msg="using github ref: refs/heads/main"
[test-set-env-var/test]   🐳  docker pull node:12.6-buster-slim
time="2020-11-20T12:44:00-08:00" level=debug msg="Image exists? true"
[test-set-env-var/test] Removed container: 8ce154d274cfb4c28d7f3517a0d519e59958e23247619f53e27648ca6b3d7121
[test-set-env-var/test]   🐳  docker volume rm act-test-set-env-var-test
[test-set-env-var/test]   🐳  docker create image=node:12.6-buster-slim entrypoint=["/usr/bin/tail" "-f" "/dev/null"] cmd=[]
[test-set-env-var/test] Created container name=act-test-set-env-var-test id=e61f15496fb94f5840d96fa975307263c1c31f4755707c363c76bdb4e3649777 from image node:12.6-buster-slim
[test-set-env-var/test] ENV ==> [RUNNER_TOOL_CACHE=/opt/hostedtoolcache RUNNER_OS=Linux RUNNER_TEMP=/tmp]
[test-set-env-var/test]   🐳  docker run image=node:12.6-buster-slim entrypoint=["/usr/bin/tail" "-f" "/dev/null"] cmd=[]
[test-set-env-var/test] Starting container: e61f15496fb94f5840d96fa975307263c1c31f4755707c363c76bdb4e3649777
[test-set-env-var/test] Started container: e61f15496fb94f5840d96fa975307263c1c31f4755707c363c76bdb4e3649777
time="2020-11-20T12:44:00-08:00" level=debug msg="Writing entry to tarball workflow/event.json len:2"
time="2020-11-20T12:44:00-08:00" level=debug msg="Writing entry to tarball home/.act len:0"
[test-set-env-var/test] Extracting content to '/github/'
time="2020-11-20T12:44:00-08:00" level=debug msg="WiNK: call sc.setupEnv()(ctx)"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv rc.GetEnv()=map[ACT:true]"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv step.GetEnv()=map[INPUT_PYTHON-VERSION:3.7]"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func:+ *********************"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func: rc.GetEnv()=map[ACT:true]"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func: step.GetEnv()=map[INPUT_PYTHON-VERSION:3.7]"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func mergeMaps 2 rc, step"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func env=map[ACT:true INPUT_PYTHON-VERSION:3.7]"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func Interpolate k=INPUT_PYTHON-VERSION v=3.7 env[k]=3.7"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func Interpolate env[k]=3.7"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func Interpolate k=ACT v=true env[k]=true"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func Interpolate env[k]=true"
time="2020-11-20T12:44:00-08:00" level=debug msg="Loading slug from git directory '/home/wink/prgs/github-actions/tests/gha-test-set-env-var/.git'"
time="2020-11-20T12:44:00-08:00" level=debug msg="Found revision: 0be16c1fd1abc9d8547a6595a0ab29be214087ff\n"
time="2020-11-20T12:44:00-08:00" level=debug msg="Loading revision from git directory '/home/wink/prgs/github-actions/tests/gha-test-set-env-var/.git'"
time="2020-11-20T12:44:00-08:00" level=debug msg="Found revision: 0be16c1fd1abc9d8547a6595a0ab29be214087ff\n"
time="2020-11-20T12:44:00-08:00" level=debug msg="HEAD points to '0be16c1fd1abc9d8547a6595a0ab29be214087ff'"
time="2020-11-20T12:44:00-08:00" level=debug msg="HEAD matches refs/heads/main"
time="2020-11-20T12:44:00-08:00" level=debug msg="using github ref: refs/heads/main"
time="2020-11-20T12:44:00-08:00" level=debug msg="setupEnv => map[ACT:true CI:true GITHUB_ACTION:0 GITHUB_ACTIONS:true GITHUB_ACTOR:nektos/act GITHUB_EVENT_NAME:push GITHUB_EVENT_PATH:/github/workflow/event.json GITHUB_REF:refs/heads/main GITHUB_REPOSITORY:winksaville/gha-test-set-env-var GITHUB_RUN_ID:1 GITHUB_RUN_NUMBER:1 GITHUB_SHA:0be16c1fd1abc9d8547a6595a0ab29be214087ff GITHUB_TOKEN: GITHUB_WORKFLOW:test-set-env-var GITHUB_WORKSPACE:/github/workspace HOME:/github/home INPUT_PYTHON-VERSION:3.7]"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func:- ******************************"
time="2020-11-20T12:44:00-08:00" level=debug msg="Loading slug from git directory '/home/wink/prgs/github-actions/tests/gha-test-set-env-var/.git'"
time="2020-11-20T12:44:00-08:00" level=debug msg="Found revision: 0be16c1fd1abc9d8547a6595a0ab29be214087ff\n"
time="2020-11-20T12:44:00-08:00" level=debug msg="Loading revision from git directory '/home/wink/prgs/github-actions/tests/gha-test-set-env-var/.git'"
time="2020-11-20T12:44:00-08:00" level=debug msg="Found revision: 0be16c1fd1abc9d8547a6595a0ab29be214087ff\n"
time="2020-11-20T12:44:00-08:00" level=debug msg="HEAD points to '0be16c1fd1abc9d8547a6595a0ab29be214087ff'"
time="2020-11-20T12:44:00-08:00" level=debug msg="HEAD matches refs/heads/main"
time="2020-11-20T12:44:00-08:00" level=debug msg="using github ref: refs/heads/main"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: RunContext vmEnv rc.GetEnv=map[ACT:true]"
time="2020-11-20T12:44:00-08:00" level=debug msg="WIHK: RunContext.func:+ vmEnv call ################# vm.Set(\"env\", rc.GetEnv()=map[ACT:true])"
time="2020-11-20T12:44:00-08:00" level=debug msg="WIHK: RunContext.func:- vmEnv"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: StepContext vmEnv sc.GetEnv=map[ACT:true CI:true GITHUB_ACTION:0 GITHUB_ACTIONS:true GITHUB_ACTOR:nektos/act GITHUB_EVENT_NAME:push GITHUB_EVENT_PATH:/github/workflow/event.json GITHUB_REF:refs/heads/main GITHUB_REPOSITORY:winksaville/gha-test-set-env-var GITHUB_RUN_ID:1 GITHUB_RUN_NUMBER:1 GITHUB_SHA:0be16c1fd1abc9d8547a6595a0ab29be214087ff GITHUB_TOKEN: GITHUB_WORKFLOW:test-set-env-var GITHUB_WORKSPACE:/github/workspace HOME:/github/home INPUT_PYTHON-VERSION:3.7]"
time="2020-11-20T12:44:00-08:00" level=debug msg="WIHK: StepContext.func:+ vmEnv call !!!!!!!!!!!!!!!!! vm.Set(\"env\", sc.Env=map[ACT:true CI:true GITHUB_ACTION:0 GITHUB_ACTIONS:true GITHUB_ACTOR:nektos/act GITHUB_EVENT_NAME:push GITHUB_EVENT_PATH:/github/workflow/event.json GITHUB_REF:refs/heads/main GITHUB_REPOSITORY:winksaville/gha-test-set-env-var GITHUB_RUN_ID:1 GITHUB_RUN_NUMBER:1 GITHUB_SHA:0be16c1fd1abc9d8547a6595a0ab29be214087ff GITHUB_TOKEN: GITHUB_WORKFLOW:test-set-env-var GITHUB_WORKSPACE:/github/workspace HOME:/github/home INPUT_PYTHON-VERSION:3.7])"
time="2020-11-20T12:44:00-08:00" level=debug msg="WIHK: StepContext.func:- vmEnv"
time="2020-11-20T12:44:00-08:00" level=debug msg="WiNK: done NewExpressionEvaluator()"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: newStepExecutor.func:+ Run &{RunContext:test-set-env-var/test Step:step1 Env:map[ACT:true CI:true GITHUB_ACTION:0 GITHUB_ACTIONS:true GITHUB_ACTOR:nektos/act GITHUB_EVENT_NAME:push GITHUB_EVENT_PATH:/github/workflow/event.json GITHUB_REF:refs/heads/main GITHUB_REPOSITORY:winksaville/gha-test-set-env-var GITHUB_RUN_ID:1 GITHUB_RUN_NUMBER:1 GITHUB_SHA:0be16c1fd1abc9d8547a6595a0ab29be214087ff GITHUB_TOKEN: GITHUB_WORKFLOW:test-set-env-var GITHUB_WORKSPACE:/github/workspace HOME:/github/home INPUT_PYTHON-VERSION:3.7] Cmd:[] Action:<nil>}"
[test-set-env-var/test] ⭐  Run step1
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK:+ Executor: sc=&{RunContext:test-set-env-var/test Step:step1 Env:map[ACT:true CI:true GITHUB_ACTION:0 GITHUB_ACTIONS:true GITHUB_ACTOR:nektos/act GITHUB_EVENT_NAME:push GITHUB_EVENT_PATH:/github/workflow/event.json GITHUB_REF:refs/heads/main GITHUB_REPOSITORY:winksaville/gha-test-set-env-var GITHUB_RUN_ID:1 GITHUB_RUN_NUMBER:1 GITHUB_SHA:0be16c1fd1abc9d8547a6595a0ab29be214087ff GITHUB_TOKEN: GITHUB_WORKFLOW:test-set-env-var GITHUB_WORKSPACE:/github/workspace HOME:/github/home INPUT_PYTHON-VERSION:3.7] Cmd:[] Action:<nil>}"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupAction: sc=&{RunContext:test-set-env-var/test Step:step1 Env:map[ACT:true CI:true GITHUB_ACTION:0 GITHUB_ACTIONS:true GITHUB_ACTOR:nektos/act GITHUB_EVENT_NAME:push GITHUB_EVENT_PATH:/github/workflow/event.json GITHUB_REF:refs/heads/main GITHUB_REPOSITORY:winksaville/gha-test-set-env-var GITHUB_RUN_ID:1 GITHUB_RUN_NUMBER:1 GITHUB_SHA:0be16c1fd1abc9d8547a6595a0ab29be214087ff GITHUB_TOKEN: GITHUB_WORKFLOW:test-set-env-var GITHUB_WORKSPACE:/github/workspace HOME:/github/home INPUT_PYTHON-VERSION:3.7] Cmd:[] Action:<nil>} actionDir=/home/wink/prgs/github-actions/tests/gha-test-set-env-var/actions/docker-local-set-env-name1 actionPath="
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: runAction: sc=&{RunContext:test-set-env-var/test Step:step1 Env:map[ACT:true CI:true GITHUB_ACTION:0 GITHUB_ACTIONS:true GITHUB_ACTOR:nektos/act GITHUB_EVENT_NAME:push GITHUB_EVENT_PATH:/github/workflow/event.json GITHUB_REF:refs/heads/main GITHUB_REPOSITORY:winksaville/gha-test-set-env-var GITHUB_RUN_ID:1 GITHUB_RUN_NUMBER:1 GITHUB_SHA:0be16c1fd1abc9d8547a6595a0ab29be214087ff GITHUB_TOKEN: GITHUB_WORKFLOW:test-set-env-var GITHUB_WORKSPACE:/github/workspace HOME:/github/home INPUT_PYTHON-VERSION:3.7] Cmd:[] Action:<nil>}"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK:- Executor: sc=&{RunContext:test-set-env-var/test Step:step1 Env:map[ACT:true CI:true GITHUB_ACTION:0 GITHUB_ACTIONS:true GITHUB_ACTOR:nektos/act GITHUB_EVENT_NAME:push GITHUB_EVENT_PATH:/github/workflow/event.json GITHUB_REF:refs/heads/main GITHUB_REPOSITORY:winksaville/gha-test-set-env-var GITHUB_RUN_ID:1 GITHUB_RUN_NUMBER:1 GITHUB_SHA:0be16c1fd1abc9d8547a6595a0ab29be214087ff GITHUB_TOKEN: GITHUB_WORKFLOW:test-set-env-var GITHUB_WORKSPACE:/github/workspace HOME:/github/home INPUT_PYTHON-VERSION:3.7] Cmd:[] Action:<nil>}"
time="2020-11-20T12:44:00-08:00" level=debug msg="Read action &{set-env-name1  Set enviornemt variable name1 to valu1 map[python-version:{Python version true }] map[] {docker map[]  Dockerfile [] [${{ inputs.python-version }}]} { }} from '/home/wink/prgs/github-actions/tests/gha-test-set-env-var/actions/docker-local-set-env-name1/action.yml'"
time="2020-11-20T12:44:00-08:00" level=debug msg="About to run action &{set-env-name1  Set enviornemt variable name1 to valu1 map[python-version:{Python version true }] map[] {docker map[]  Dockerfile [] [${{ inputs.python-version }}]} { }}"
time="2020-11-20T12:44:00-08:00" level=debug msg="type=2 actionDir=/home/wink/prgs/github-actions/tests/gha-test-set-env-var/actions/docker-local-set-env-name1 actionPath= Workdir=/home/wink/prgs/github-actions/tests/gha-test-set-env-var ActionCacheDir=/home/wink/.cache/act actionName=actions/docker-local-set-env-name1 containerActionDir=/github/workspace"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: newStepContainer sc=&{RunContext:test-set-env-var/test Step:step1 Env:map[ACT:true CI:true GITHUB_ACTION:0 GITHUB_ACTIONS:true GITHUB_ACTOR:nektos/act GITHUB_EVENT_NAME:push GITHUB_EVENT_PATH:/github/workflow/event.json GITHUB_REF:refs/heads/main GITHUB_REPOSITORY:winksaville/gha-test-set-env-var GITHUB_RUN_ID:1 GITHUB_RUN_NUMBER:1 GITHUB_SHA:0be16c1fd1abc9d8547a6595a0ab29be214087ff GITHUB_TOKEN: GITHUB_WORKFLOW:test-set-env-var GITHUB_WORKSPACE:/github/workspace HOME:/github/home INPUT_PYTHON-VERSION:3.7] Cmd:[] Action:0xc0000c3380} cmd=[${{ inputs.python-version }}] entryPoint=[]"
time="2020-11-20T12:44:00-08:00" level=debug msg="Loading slug from git directory '/home/wink/prgs/github-actions/tests/gha-test-set-env-var/.git'"
time="2020-11-20T12:44:00-08:00" level=debug msg="Found revision: 0be16c1fd1abc9d8547a6595a0ab29be214087ff\n"
time="2020-11-20T12:44:00-08:00" level=debug msg="Loading revision from git directory '/home/wink/prgs/github-actions/tests/gha-test-set-env-var/.git'"
time="2020-11-20T12:44:00-08:00" level=debug msg="Found revision: 0be16c1fd1abc9d8547a6595a0ab29be214087ff\n"
time="2020-11-20T12:44:00-08:00" level=debug msg="HEAD points to '0be16c1fd1abc9d8547a6595a0ab29be214087ff'"
time="2020-11-20T12:44:00-08:00" level=debug msg="HEAD matches refs/heads/main"
time="2020-11-20T12:44:00-08:00" level=debug msg="using github ref: refs/heads/main"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: RunContext vmEnv rc.GetEnv=map[ACT:true]"
time="2020-11-20T12:44:00-08:00" level=debug msg="WIHK: RunContext.func:+ vmEnv call ################# vm.Set(\"env\", rc.GetEnv()=map[ACT:true])"
time="2020-11-20T12:44:00-08:00" level=debug msg="WIHK: RunContext.func:- vmEnv"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: StepContext vmEnv sc.GetEnv=map[ACT:true CI:true GITHUB_ACTION:0 GITHUB_ACTIONS:true GITHUB_ACTOR:nektos/act GITHUB_EVENT_NAME:push GITHUB_EVENT_PATH:/github/workflow/event.json GITHUB_REF:refs/heads/main GITHUB_REPOSITORY:winksaville/gha-test-set-env-var GITHUB_RUN_ID:1 GITHUB_RUN_NUMBER:1 GITHUB_SHA:0be16c1fd1abc9d8547a6595a0ab29be214087ff GITHUB_TOKEN: GITHUB_WORKFLOW:test-set-env-var GITHUB_WORKSPACE:/github/workspace HOME:/github/home INPUT_PYTHON-VERSION:3.7]"
time="2020-11-20T12:44:00-08:00" level=debug msg="WIHK: StepContext.func:+ vmEnv call !!!!!!!!!!!!!!!!! vm.Set(\"env\", sc.Env=map[ACT:true CI:true GITHUB_ACTION:0 GITHUB_ACTIONS:true GITHUB_ACTOR:nektos/act GITHUB_EVENT_NAME:push GITHUB_EVENT_PATH:/github/workflow/event.json GITHUB_REF:refs/heads/main GITHUB_REPOSITORY:winksaville/gha-test-set-env-var GITHUB_RUN_ID:1 GITHUB_RUN_NUMBER:1 GITHUB_SHA:0be16c1fd1abc9d8547a6595a0ab29be214087ff GITHUB_TOKEN: GITHUB_WORKFLOW:test-set-env-var GITHUB_WORKSPACE:/github/workspace HOME:/github/home INPUT_PYTHON-VERSION:3.7])"
time="2020-11-20T12:44:00-08:00" level=debug msg="WIHK: StepContext.func:- vmEnv"
time="2020-11-20T12:44:00-08:00" level=debug msg="Evaluating 'inputs['python-version']' instead of 'inputs.python-version'"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: Evaluated ret: 'inputs['python-version']' val='3.7'"
[test-set-env-var/test]   🐳  docker build -t act-actions-docker-local-set-env-name1:latest /home/wink/prgs/github-actions/tests/gha-test-set-env-var/actions/docker-local-set-env-name1
[test-set-env-var/test] Building image from '/home/wink/prgs/github-actions/tests/gha-test-set-env-var/actions/docker-local-set-env-name1'
time="2020-11-20T12:44:00-08:00" level=debug msg="Creating archive for build context dir '/home/wink/prgs/github-actions/tests/gha-test-set-env-var/actions/docker-local-set-env-name1' with relative dockerfile 'Dockerfile'"
[test-set-env-var/test] Creating image from context dir '/home/wink/prgs/github-actions/tests/gha-test-set-env-var/actions/docker-local-set-env-name1' with tag 'act-actions-docker-local-set-env-name1:latest'
[test-set-env-var/test] Step 1/4 : FROM alpine:3.10
[test-set-env-var/test] 
[test-set-env-var/test]  ---> be4e4bea2c2e
[test-set-env-var/test] Step 2/4 : COPY entrypoint.sh /entrypoint.sh
[test-set-env-var/test] 
[test-set-env-var/test]  ---> Using cache
[test-set-env-var/test]  ---> 09c31ff1b03a
[test-set-env-var/test] Step 3/4 : RUN chmod +x /entrypoint.sh
[test-set-env-var/test] 
[test-set-env-var/test]  ---> Using cache
[test-set-env-var/test]  ---> 2d4de53386e5
[test-set-env-var/test] Step 4/4 : ENTRYPOINT ["/entrypoint.sh"]
[test-set-env-var/test] 
[test-set-env-var/test]  ---> Using cache
[test-set-env-var/test]  ---> 24a810818467
[test-set-env-var/test] Unable to handle line: {"aux":{"ID":"sha256:24a8108184674a290f40a90e1855bf6791b55b66306d99315b7797c5a7b93695"}}
[test-set-env-var/test] Successfully built 24a810818467
[test-set-env-var/test] Successfully tagged act-actions-docker-local-set-env-name1:latest
[test-set-env-var/test]   🐳  docker pull act-actions-docker-local-set-env-name1:latest
time="2020-11-20T12:44:00-08:00" level=debug msg="Image exists? true"
[test-set-env-var/test]   🐳  docker create image=act-actions-docker-local-set-env-name1:latest entrypoint=[] cmd=["3.7"]
[test-set-env-var/test] Created container name=act-test-set-e-0 id=e108c298780ec0b767ce4dc9fcb8d98beee43749cf832e3aef7edda19b63df78 from image act-actions-docker-local-set-env-name1:latest
[test-set-env-var/test] ENV ==> [GITHUB_EVENT_PATH=/github/workflow/event.json GITHUB_REPOSITORY=winksaville/gha-test-set-env-var HOME=/github/home GITHUB_WORKFLOW=test-set-env-var GITHUB_RUN_NUMBER=1 GITHUB_EVENT_NAME=push GITHUB_RUN_ID=1 GITHUB_ACTOR=nektos/act INPUT_PYTHON-VERSION=3.7 GITHUB_WORKSPACE=/github/workspace GITHUB_REF=refs/heads/main GITHUB_TOKEN= GITHUB_ACTION=0 CI=true GITHUB_ACTIONS=true ACT=true GITHUB_SHA=0be16c1fd1abc9d8547a6595a0ab29be214087ff RUNNER_TOOL_CACHE=/opt/hostedtoolcache RUNNER_OS=Linux RUNNER_TEMP=/tmp]
[test-set-env-var/test]   🐳  docker run image=act-actions-docker-local-set-env-name1:latest entrypoint=[] cmd=["3.7"]
[test-set-env-var/test] Starting container: e108c298780ec0b767ce4dc9fcb8d98beee43749cf832e3aef7edda19b63df78
[test-set-env-var/test]   | first-param=3.7
[test-set-env-var/test]   ⚙  ::set-env:: name1=value1
[test-set-env-var/test] Started container: e108c298780ec0b767ce4dc9fcb8d98beee43749cf832e3aef7edda19b63df78
[test-set-env-var/test] Return status: 0
[test-set-env-var/test] Removed container: e108c298780ec0b767ce4dc9fcb8d98beee43749cf832e3aef7edda19b63df78
[test-set-env-var/test]   ✅  Success - step1
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: newStepExecutor.func:- Run sc=&{RunContext:test-set-env-var/test Step:step1 Env:map[ACT:true CI:true GITHUB_ACTION:0 GITHUB_ACTIONS:true GITHUB_ACTOR:nektos/act GITHUB_EVENT_NAME:push GITHUB_EVENT_PATH:/github/workflow/event.json GITHUB_REF:refs/heads/main GITHUB_REPOSITORY:winksaville/gha-test-set-env-var GITHUB_RUN_ID:1 GITHUB_RUN_NUMBER:1 GITHUB_SHA:0be16c1fd1abc9d8547a6595a0ab29be214087ff GITHUB_TOKEN: GITHUB_WORKFLOW:test-set-env-var GITHUB_WORKSPACE:/github/workspace HOME:/github/home INPUT_PYTHON-VERSION:3.7] Cmd:[] Action:0xc0000c3380} rc.StepResults=&{Success:true Outputs:map[]} rc.GetEnv=map[ACT:true name1:value1]"
time="2020-11-20T12:44:00-08:00" level=debug msg="WiNK: call sc.setupEnv()(ctx)"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv rc.GetEnv()=map[ACT:true name1:value1]"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv step.GetEnv()=map[INPUT_ENV-NAME:${{ env.name1 }} INPUT_ENV-VALUE:${{ runner.os }}-python-${{ env.name1 }}]"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func:+ *********************"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func: rc.GetEnv()=map[ACT:true name1:value1]"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func: step.GetEnv()=map[INPUT_ENV-NAME:${{ env.name1 }} INPUT_ENV-VALUE:${{ runner.os }}-python-${{ env.name1 }}]"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func mergeMaps 2 rc, step"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func env=map[ACT:true INPUT_ENV-NAME:${{ env.name1 }} INPUT_ENV-VALUE:${{ runner.os }}-python-${{ env.name1 }} name1:value1]"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func Interpolate k=INPUT_ENV-VALUE v=${{ runner.os }}-python-${{ env.name1 }} env[k]=${{ runner.os }}-python-${{ env.name1 }}"
time="2020-11-20T12:44:00-08:00" level=debug msg="Evaluating 'runner['os']' instead of 'runner.os'"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: Evaluated ret: 'runner['os']' val='Linux'"
time="2020-11-20T12:44:00-08:00" level=debug msg="Evaluating 'env['name1']' instead of 'env.name1'"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: Evaluated val=undefined ret: val=\"\", false, err='<nil>'"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func Interpolate env[k]=Linux-python-"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func Interpolate k=ACT v=true env[k]=true"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func Interpolate env[k]=true"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func Interpolate k=name1 v=value1 env[k]=value1"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func Interpolate env[k]=value1"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func Interpolate k=INPUT_ENV-NAME v=${{ env.name1 }} env[k]=${{ env.name1 }}"
time="2020-11-20T12:44:00-08:00" level=debug msg="Evaluating 'env['name1']' instead of 'env.name1'"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: Evaluated val=undefined ret: val=\"\", false, err='<nil>'"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func Interpolate env[k]="
time="2020-11-20T12:44:00-08:00" level=debug msg="Loading slug from git directory '/home/wink/prgs/github-actions/tests/gha-test-set-env-var/.git'"
time="2020-11-20T12:44:00-08:00" level=debug msg="Found revision: 0be16c1fd1abc9d8547a6595a0ab29be214087ff\n"
time="2020-11-20T12:44:00-08:00" level=debug msg="Loading revision from git directory '/home/wink/prgs/github-actions/tests/gha-test-set-env-var/.git'"
time="2020-11-20T12:44:00-08:00" level=debug msg="Found revision: 0be16c1fd1abc9d8547a6595a0ab29be214087ff\n"
time="2020-11-20T12:44:00-08:00" level=debug msg="HEAD points to '0be16c1fd1abc9d8547a6595a0ab29be214087ff'"
time="2020-11-20T12:44:00-08:00" level=debug msg="HEAD matches refs/heads/main"
time="2020-11-20T12:44:00-08:00" level=debug msg="using github ref: refs/heads/main"
time="2020-11-20T12:44:00-08:00" level=debug msg="setupEnv => map[ACT:true CI:true GITHUB_ACTION:1 GITHUB_ACTIONS:true GITHUB_ACTOR:nektos/act GITHUB_EVENT_NAME:push GITHUB_EVENT_PATH:/github/workflow/event.json GITHUB_REF:refs/heads/main GITHUB_REPOSITORY:winksaville/gha-test-set-env-var GITHUB_RUN_ID:1 GITHUB_RUN_NUMBER:1 GITHUB_SHA:0be16c1fd1abc9d8547a6595a0ab29be214087ff GITHUB_TOKEN: GITHUB_WORKFLOW:test-set-env-var GITHUB_WORKSPACE:/github/workspace HOME:/github/home INPUT_ENV-NAME: INPUT_ENV-VALUE:Linux-python- name1:value1]"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupEnv.func:- ******************************"
time="2020-11-20T12:44:00-08:00" level=debug msg="Loading slug from git directory '/home/wink/prgs/github-actions/tests/gha-test-set-env-var/.git'"
time="2020-11-20T12:44:00-08:00" level=debug msg="Found revision: 0be16c1fd1abc9d8547a6595a0ab29be214087ff\n"
time="2020-11-20T12:44:00-08:00" level=debug msg="Loading revision from git directory '/home/wink/prgs/github-actions/tests/gha-test-set-env-var/.git'"
time="2020-11-20T12:44:00-08:00" level=debug msg="Found revision: 0be16c1fd1abc9d8547a6595a0ab29be214087ff\n"
time="2020-11-20T12:44:00-08:00" level=debug msg="HEAD points to '0be16c1fd1abc9d8547a6595a0ab29be214087ff'"
time="2020-11-20T12:44:00-08:00" level=debug msg="HEAD matches refs/heads/main"
time="2020-11-20T12:44:00-08:00" level=debug msg="using github ref: refs/heads/main"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: RunContext vmEnv rc.GetEnv=map[ACT:true name1:value1]"
time="2020-11-20T12:44:00-08:00" level=debug msg="WIHK: RunContext.func:+ vmEnv call ################# vm.Set(\"env\", rc.GetEnv()=map[ACT:true name1:value1])"
time="2020-11-20T12:44:00-08:00" level=debug msg="WIHK: RunContext.func:- vmEnv"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: StepContext vmEnv sc.GetEnv=map[ACT:true CI:true GITHUB_ACTION:1 GITHUB_ACTIONS:true GITHUB_ACTOR:nektos/act GITHUB_EVENT_NAME:push GITHUB_EVENT_PATH:/github/workflow/event.json GITHUB_REF:refs/heads/main GITHUB_REPOSITORY:winksaville/gha-test-set-env-var GITHUB_RUN_ID:1 GITHUB_RUN_NUMBER:1 GITHUB_SHA:0be16c1fd1abc9d8547a6595a0ab29be214087ff GITHUB_TOKEN: GITHUB_WORKFLOW:test-set-env-var GITHUB_WORKSPACE:/github/workspace HOME:/github/home INPUT_ENV-NAME: INPUT_ENV-VALUE:Linux-python- name1:value1]"
time="2020-11-20T12:44:00-08:00" level=debug msg="WIHK: StepContext.func:+ vmEnv call !!!!!!!!!!!!!!!!! vm.Set(\"env\", sc.Env=map[ACT:true CI:true GITHUB_ACTION:1 GITHUB_ACTIONS:true GITHUB_ACTOR:nektos/act GITHUB_EVENT_NAME:push GITHUB_EVENT_PATH:/github/workflow/event.json GITHUB_REF:refs/heads/main GITHUB_REPOSITORY:winksaville/gha-test-set-env-var GITHUB_RUN_ID:1 GITHUB_RUN_NUMBER:1 GITHUB_SHA:0be16c1fd1abc9d8547a6595a0ab29be214087ff GITHUB_TOKEN: GITHUB_WORKFLOW:test-set-env-var GITHUB_WORKSPACE:/github/workspace HOME:/github/home INPUT_ENV-NAME: INPUT_ENV-VALUE:Linux-python- name1:value1])"
time="2020-11-20T12:44:00-08:00" level=debug msg="WIHK: StepContext.func:- vmEnv"
time="2020-11-20T12:44:00-08:00" level=debug msg="WiNK: done NewExpressionEvaluator()"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: newStepExecutor.func:+ Run &{RunContext:test-set-env-var/test Step:step2 Env:map[ACT:true CI:true GITHUB_ACTION:1 GITHUB_ACTIONS:true GITHUB_ACTOR:nektos/act GITHUB_EVENT_NAME:push GITHUB_EVENT_PATH:/github/workflow/event.json GITHUB_REF:refs/heads/main GITHUB_REPOSITORY:winksaville/gha-test-set-env-var GITHUB_RUN_ID:1 GITHUB_RUN_NUMBER:1 GITHUB_SHA:0be16c1fd1abc9d8547a6595a0ab29be214087ff GITHUB_TOKEN: GITHUB_WORKFLOW:test-set-env-var GITHUB_WORKSPACE:/github/workspace HOME:/github/home INPUT_ENV-NAME: INPUT_ENV-VALUE:Linux-python- name1:value1] Cmd:[] Action:<nil>}"
[test-set-env-var/test] ⭐  Run step2
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK:+ Executor: sc=&{RunContext:test-set-env-var/test Step:step2 Env:map[ACT:true CI:true GITHUB_ACTION:1 GITHUB_ACTIONS:true GITHUB_ACTOR:nektos/act GITHUB_EVENT_NAME:push GITHUB_EVENT_PATH:/github/workflow/event.json GITHUB_REF:refs/heads/main GITHUB_REPOSITORY:winksaville/gha-test-set-env-var GITHUB_RUN_ID:1 GITHUB_RUN_NUMBER:1 GITHUB_SHA:0be16c1fd1abc9d8547a6595a0ab29be214087ff GITHUB_TOKEN: GITHUB_WORKFLOW:test-set-env-var GITHUB_WORKSPACE:/github/workspace HOME:/github/home INPUT_ENV-NAME: INPUT_ENV-VALUE:Linux-python- name1:value1] Cmd:[] Action:<nil>}"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: setupAction: sc=&{RunContext:test-set-env-var/test Step:step2 Env:map[ACT:true CI:true GITHUB_ACTION:1 GITHUB_ACTIONS:true GITHUB_ACTOR:nektos/act GITHUB_EVENT_NAME:push GITHUB_EVENT_PATH:/github/workflow/event.json GITHUB_REF:refs/heads/main GITHUB_REPOSITORY:winksaville/gha-test-set-env-var GITHUB_RUN_ID:1 GITHUB_RUN_NUMBER:1 GITHUB_SHA:0be16c1fd1abc9d8547a6595a0ab29be214087ff GITHUB_TOKEN: GITHUB_WORKFLOW:test-set-env-var GITHUB_WORKSPACE:/github/workspace HOME:/github/home INPUT_ENV-NAME: INPUT_ENV-VALUE:Linux-python- name1:value1] Cmd:[] Action:<nil>} actionDir=/home/wink/.cache/act/winksaville-gha-js-set-env-var@main actionPath="
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK: runAction: sc=&{RunContext:test-set-env-var/test Step:step2 Env:map[ACT:true CI:true GITHUB_ACTION:1 GITHUB_ACTIONS:true GITHUB_ACTOR:nektos/act GITHUB_EVENT_NAME:push GITHUB_EVENT_PATH:/github/workflow/event.json GITHUB_REF:refs/heads/main GITHUB_REPOSITORY:winksaville/gha-test-set-env-var GITHUB_RUN_ID:1 GITHUB_RUN_NUMBER:1 GITHUB_SHA:0be16c1fd1abc9d8547a6595a0ab29be214087ff GITHUB_TOKEN: GITHUB_WORKFLOW:test-set-env-var GITHUB_WORKSPACE:/github/workspace HOME:/github/home INPUT_ENV-NAME: INPUT_ENV-VALUE:Linux-python- name1:value1] Cmd:[] Action:<nil>}"
time="2020-11-20T12:44:00-08:00" level=debug msg="WINK:- Executor: sc=&{RunContext:test-set-env-var/test Step:step2 Env:map[ACT:true CI:true GITHUB_ACTION:1 GITHUB_ACTIONS:true GITHUB_ACTOR:nektos/act GITHUB_EVENT_NAME:push GITHUB_EVENT_PATH:/github/workflow/event.json GITHUB_REF:refs/heads/main GITHUB_REPOSITORY:winksaville/gha-test-set-env-var GITHUB_RUN_ID:1 GITHUB_RUN_NUMBER:1 GITHUB_SHA:0be16c1fd1abc9d8547a6595a0ab29be214087ff GITHUB_TOKEN: GITHUB_WORKFLOW:test-set-env-var GITHUB_WORKSPACE:/github/workspace HOME:/github/home INPUT_ENV-NAME: INPUT_ENV-VALUE:Linux-python- name1:value1] Cmd:[] Action:<nil>}"
[test-set-env-var/test]   ☁  git clone 'https://github.com/winksaville/gha-js-set-env-var' # ref=main
[test-set-env-var/test]   cloning https://github.com/winksaville/gha-js-set-env-var to /home/wink/.cache/act/winksaville-gha-js-set-env-var@main
[test-set-env-var/test] retF plumbing.ReferenceName refName=refs/heads/main
[test-set-env-var/test] CloneIfRequired:+ refName=refs/heads/main
[test-set-env-var/test] CloneIfRequired:- T r=*git.Repository r=&{0xc0000f83c0 map[] 0xc000424160}
[test-set-env-var/test] Call plumbing.Revision(main)
[test-set-env-var/test] Call r.ResolveRevision(main)
[test-set-env-var/test] retF r.ResolveRevision(main) hash=8daf5e002faa1d71eb54b58b7b4afdc3df3abed3 err=<nil>
[test-set-env-var/test] Provided ref is not a sha. Checking out branch before pulling changes
[test-set-env-var/test] Cloned https://github.com/winksaville/gha-js-set-env-var to /home/wink/.cache/act/winksaville-gha-js-set-env-var@main
[test-set-env-var/test] Checked out main
time="2020-11-20T12:44:01-08:00" level=debug msg="Read action &{set-env-var  Set an enviornemt variable map[env-name:{Environment variable name true } env-value:{Value to save in env-name true }] map[] {node12 map[] index.js  [] []} { }} from '/home/wink/.cache/act/winksaville-gha-js-set-env-var@main/action.yml'"
time="2020-11-20T12:44:01-08:00" level=debug msg="About to run action &{set-env-var  Set an enviornemt variable map[env-name:{Environment variable name true } env-value:{Value to save in env-name true }] map[] {node12 map[] index.js  [] []} { }}"
time="2020-11-20T12:44:01-08:00" level=debug msg="type=3 actionDir=/home/wink/.cache/act/winksaville-gha-js-set-env-var@main actionPath= Workdir=/home/wink/prgs/github-actions/tests/gha-test-set-env-var ActionCacheDir=/home/wink/.cache/act actionName=winksaville-gha-js-set-env-var@main containerActionDir=/actions"
time="2020-11-20T12:44:01-08:00" level=debug msg="Removing /home/wink/.cache/act/winksaville-gha-js-set-env-var@main/.gitignore before docker cp"
[test-set-env-var/test]   🐳  docker cp src=/home/wink/.cache/act/winksaville-gha-js-set-env-var@main dst=/actions/
[test-set-env-var/test] Exec command '[mkdir -p /actions/]'
time="2020-11-20T12:44:01-08:00" level=debug msg="Writing tarball /tmp/act081270699 from /home/wink/.cache/act/winksaville-gha-js-set-env-var@main"
time="2020-11-20T12:44:01-08:00" level=debug msg="Stripping prefix:/home/wink/.cache/act/ src:/home/wink/.cache/act/winksaville-gha-js-set-env-var@main"
[test-set-env-var/test] Extracting content from '/tmp/act081270699' to '/actions/'
time="2020-11-20T12:44:01-08:00" level=debug msg="executing remote job container: [node /actions/winksaville-gha-js-set-env-var@main/index.js]"
[test-set-env-var/test] Exec command '[node /actions/winksaville-gha-js-set-env-var@main/index.js]'
[test-set-env-var/test]   ❗  ::error::env-name is empty
[test-set-env-var/test]   ❌  Failure - step2
time="2020-11-20T12:44:02-08:00" level=debug msg="WINK: newStepExecutor.func:- Run sc=&{RunContext:test-set-env-var/test Step:step2 Env:map[ACT:true CI:true GITHUB_ACTION:1 GITHUB_ACTIONS:true GITHUB_ACTOR:nektos/act GITHUB_EVENT_NAME:push GITHUB_EVENT_PATH:/github/workflow/event.json GITHUB_REF:refs/heads/main GITHUB_REPOSITORY:winksaville/gha-test-set-env-var GITHUB_RUN_ID:1 GITHUB_RUN_NUMBER:1 GITHUB_SHA:0be16c1fd1abc9d8547a6595a0ab29be214087ff GITHUB_TOKEN: GITHUB_WORKFLOW:test-set-env-var GITHUB_WORKSPACE:/github/workspace HOME:/github/home INPUT_ENV-NAME: INPUT_ENV-VALUE:Linux-python- name1:value1] Cmd:[] Action:0xc000525520} rc.StepResults=&{Success:false Outputs:map[]} rc.GetEnv=map[ACT:true name1:value1]"
time="2020-11-20T12:44:02-08:00" level=debug msg="exit with `FAILURE`: 1"
time="2020-11-20T12:44:02-08:00" level=debug msg="exit with `FAILURE`: 1"
Error: exit with `FAILURE`: 1
